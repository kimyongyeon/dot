<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
<!--modal-->
<div class="modal fade" id="myModal0" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog2">
	    <div class="modal_content2 ">
	        <button aria-label="Close" class="close2" data-dismiss="modal" type="button">
	            <span aria-hidden="true">close</span>
	        </button>
	        <p class="paper_lfBg "></p>
	        <p class="paper_rgBg "></p>
	        <div class="modal_header2">
	            <h2 id="myModalLabel">Syrup pay, 11번가 상반기 결산!
	                <span class="dottxt">11번가로 돌아보는 Syrup pay의 현황</span>
	            </h2>
	        </div>
	        <div class="modal_body2" id="modalBody0">
	            <div class="news mt30 "
	                style="background: url(/resources/images/dottedLine_blue.gif) 0 bottom repeat-x;">
	                <h3>11번가 내 Syrup pay 구매 비율은 증가 추세!</h3>
	                <p class="exp" style="font-size:15px">2015년 4월, 국내 최초 웹 기반 원클릭 간편결제 서비스인 Syrup pay가 출시되었습니다.<br>11번가 도입 첫 달 Syrup pay의 이용 고객 비율은 전체 구매 고객의 0.75%에 불과했으나
	                    <br>3개월이 지난, 2015년 7월 현재, 전체 12.55%가 syrup pay를 통해 결제를 이용했으니 그 성장세가 놀랍습니다!</p>
	                <div class="layoutLR mt30">
	                <li class=" floatL boxSty" style="width:64%">
	                    <p class="newsCbox chart" id="insights0_chart_0" style="height:300px">Chart Area</p>
	                </li>
	                <li class=" floatR boxTable" id="grid0_0" style="width:32%">
	                    <table class="listTB2 tStriped2 mt10" style="height:300px">
						    <colgroup></colgroup>
						    <thead>
						        <tr>
						            <th></th>
						            <th>구매고객수</th>
						            <th>구매건수</th>
						            <th>구매금액</th>
						        </tr>
						    </thead>
						    <tbody>
						        <tr>
						            <td class="depth2 txtC">2015-04</td>
						            <td>21,046</td>
						            <td>38,416</td>
						            <td>955,788,010</td>
						        </tr>
						        <tr>
						            <td class="depth2 txtC">2015-05</td>
						            <td>63,583</td>
						            <td>130,856</td>
						            <td>3,121,261,940</td>
						        </tr>
						        <tr>
						            <td class="depth2 txtC">2015-06</td>
						            <td>276,798</td>
						            <td>655,698</td>
						            <td>17,301,479,550</td>
						        </tr>
						        <tr>
						            <td class="depth2 txtC">2015-07</td>
						            <td>385,985</td>
						            <td>986,372</td>
						            <td>30,563,059,420</td>
						        </tr>
						    </tbody>
						</table>

	                </li>
	            </div>
	        </div>
	        <div class="news mt50 "
	            style="background: url(/resources/images/dottedLine_blue.gif) 0 bottom repeat-x;">
	            <h3>4월부터 Syrup pay 구매고객은 늘어나고 있으나, 7월 이후에는 성장세 둔화</h3>
	            <p class="exp" style="font-size:15px">Syrup pay의 이용 고객이 꾸준히 증가하고는 있지만, 7월부터 이용 고객수가 크게 증가하지 않고 있습니다.<br>최근 성장세가 다소 둔화된 것은 아닌지 한 번 돌아봐야 하지 않을까요?</p>
	            <div class="layoutLR mt30">
	                <li class=" floatL boxSty " style="width:100%;">
	                    <p class="newsCbox chart" id="insights0_chart_1" style="height:380px">Chart Area</p>
	                </li>
	            </div>
	        </div>
	        <div class="news mt50 "
	            style="background: url(/resources/images/dottedLine_blue.gif) 0 bottom repeat-x;">
	            <h3>Syrup pay 이용 고객은 전체 대비 상위 등급의 비중이 높음.
	                <br>
	                Syrup pay를 이용하면서 구매 등급은 전반적으로 더 향상됨,
	                <br>
	                Syrup pay가 11번가 retenttion에 긍정적인 영향을 주고 있음!</h3>
	            <p class="exp" style="font-size:15px">Syrup pay 이용 고객은 Syrup pay 출시 전에도 11번가를 활발히 사용했던 상위 등급 VVIP, VIP, TOP 고객이었습니다.<br>그러나 syrup pay 이용 후 기존 대비 VVIP는 37%, VIP는 42%, TOP은 34% 증가하는 효과를 보였습니다.<br>Syrup
	                pay가 주는 간편함이 11번가 고객의 로열티를 한 층 끌어올린 동력이 되고 있네요! 계속하여 발전하는 Syrup pay가 되기를 바라겠습니다.
	                ^^
	            </p>
	            <div class="layoutLR mt30">
	                <li class=" floatL boxSty" style="width:64%">
	                    <p class="newsCbox chart" id="insights0_chart_2" style="height:300px">Chart Area</p>
	                </li>
	                <li class=" floatR boxTable" id="grid0_2" style="width:32%">
	                    <table class="listTB2 tStriped2 mt10" style="height:300px">
		                        <colgroup></colgroup>
								<thead>
								    <tr class="longH">
								        <th rowspan="2"></th>
								        <th colspan="2">Syrup pay 이용 전</th>
								        <th colspan="2">Syrup pay 이용 후</th>
								    </tr>
								    <tr class="thDepth">
								        <th>전체</th>
								        <th>Syrup Pay 구매고객</th>
								        <th>전체</th>
								        <th>Syrup Pay 구매고객</th>
								    </tr>
								</thead>
								<tbody>
								    <tr>
								        <td class="depth2 txtC">VVIP</td>
								        <td>197,639</td>
								        <td>35,021</td>
								        <td>250,555</td>
								        <td>57,573</td>
								    </tr>
								    <tr>
								        <td class="depth2 txtC">VIP</td>
								        <td>546,743</td>
								        <td>79,624</td>
								        <td>635,162</td>
								        <td>123,690</td>
								    </tr>
								    <tr>
								        <td class="depth2 txtC">TOP</td>
								        <td>1,615,477</td>
								        <td>182,185</td>
								        <td>1,789,567</td>
								        <td>255,435</td>
								    </tr>
								    <tr>
								        <td class="depth2 txtC">BEST</td>
								        <td>2,656,277</td>
								        <td>151,658</td>
								        <td>2,634,310</td>
								        <td>157,807</td>
								    </tr>
								    <tr>
								        <td class="depth2 txtC">NEW</td>
								        <td>389</td>
								        <td>18</td>
								        <td>341</td>
								        <td>7</td>
								    </tr>
								</tbody>
		                    </table>
		                </li>
		            </div>
		            <ul class="intxt">
		                <li>
		                    <strong>Syrup pay 이용 고객:</strong>
		                    2015.04~2015.07 1회 이상 syrup pay를 이용해 구매한 이력이 있는 고객</li>
		                <li>
		                    <strong>Before :</strong>
		                    Syrup pay 이용 고객이 syrup이 도입되기 이전 (2015.01 ~ 2015.03)의 구매 이력을 기반으로 결정된 구매 등급</li>
		                <li>
		                    <strong>After :</strong>
		                    Syrup pay 이용 고객이 syrup이 도입된 이후 (2015.05 ~ 2015.07)의 구매 이력을 기반으로 결정된 구매 등급</li>
		            </ul>
		        </div>
		    </div>
		</div>
	</div>
 </div>
 <!--!//modal -->
 
 
 
 
 <script>

 var incInsights0 = {
		 showInsight : function(){
			  var charts=[];
			 var myChart = echarts.init($('#insights0_chart_0')[0], GV_CHART_THEME);  this.drawChart0(myChart);   charts.push(myChart);
			 //myChart = echarts.init($('#insights2_chart_1')[0], GV_CHART_THEME);  this.drawChart1(myChart);   charts.push(myChart);
			 myChart = echarts.init($('#insights0_chart_2')[0], GV_CHART_THEME);  this.drawChart2(myChart);   charts.push(myChart);
			/* myChart = echarts.init($('#insights2_chart_3')[0], GV_CHART_THEME);  this.drawChart3(myChart);   charts.push(myChart);
			 myChart = echarts.init($('#insights2_chart_4')[0], GV_CHART_THEME);  this.drawChart4(myChart);   charts.push(myChart);
			 myChart = echarts.init($('#insights2_chart_5')[0], GV_CHART_THEME);  this.drawChart5(myChart);   charts.push(myChart); */ 
			 resizeChartOnWinResizeHandler.on(charts);
		 },
		 
		 drawChart0 : function(myChart){
			 var option = {
					    "backgroundColor": "#fff",
					    "title": {
					        "text": "11번가 Syrup Pay 구매비율(월별)",
					        "textStyle": {
					            "fontSize": 16,
					            "color": "gray"
					        },
					        "subtext": "",
					        "subtextStyle": {
					            "fontSize": 14
					        }
					    },
					    "grid": {
					        "borderWidth": 1,
					        "x2": 30
					    },
					    "tooltip": {
					        "trigger": "item",
					        "textStyle": {
					            "align": "left"
					        },
					        "axisPointer": {
					            "type": "shadow"
					        }
					    },
					    "legend": {
					        "show": true,
					        "x": "right",
					        "data": [
					            "구매고객수", "구매건수", "구매금액"
					        ]
					    },
					    "xAxis": [
					        {
					            "show": true,
					            "type": "category",
					            "axisLine": {
					                "lineStyle": {
					                    "width": 1
					                }
					            },
					            "data": [
					                "2015-04", "2015-05", "2015-06", "2015-07"
					            ]
					        }
					    ],
					    "yAxis": [
					        {
					            "show": true,
					            "type": "value",
					            "axisLine": {
					                "lineStyle": {
					                    "width": 1
					                }
					            },
					            "axisLabel": {}
					        }
					    ],
					    "series": [
					        {
					            "name": "구매고객수",
					            "type": "bar",
					            "barGap": "3%",
					            "itemStyle": {
					                "normal": {
					                    "color": "rgba(252,206,16,1)",
					                    "label": {
					                        "show": true,
					                        "position": "top"
					                    }
					                }
					            },
					            "data": [
					                {
					                    "value": 0.75,
					                    "name": "구매고객수",
					                    "itemStyle": {
					                        "normal": {
					                            "label": {
					                                "show": true,
					                                "position": "top",
					                                "formatter": "{c} %"
					                            }
					                        }
					                    }
					                }, {
					                    "value": 2.25,
					                    "name": "구매고객수",
					                    "itemStyle": {
					                        "normal": {
					                            "label": {
					                                "show": true,
					                                "position": "top",
					                                "formatter": "{c} %"
					                            }
					                        }
					                    }
					                }, {
					                    "value": 9.07,
					                    "name": "구매고객수",
					                    "itemStyle": {
					                        "normal": {
					                            "label": {
					                                "show": true,
					                                "position": "top",
					                                "formatter": "{c} %"
					                            }
					                        }
					                    }
					                }, {
					                    "value": 12.55,
					                    "name": "구매고객수",
					                    "itemStyle": {
					                        "normal": {
					                            "label": {
					                                "show": true,
					                                "position": "top",
					                                "formatter": "{c} %"
					                            }
					                        }
					                    }
					                }
					            ],
					            "markPoint": {
					                "show": false,
					                "data": []
					            },
					            "markLine": {
					                "itemStyle": {
					                    "normal": {
					                        "lineStyle": {
					                            "type": "dashed"
					                        }
					                    }
					                },
					                "data": [
					                    [
					                        {
					                            "type": "min"
					                        }, {
					                            "type": "max"
					                        }
					                    ]
					                ]
					            }
					        }, {
					            "name": "구매건수",
					            "type": "bar",
					            "barGap": "3%",
					            "itemStyle": {
					                "normal": {
					                    "color": "#FF8383",
					                    "label": {
					                        "show": true,
					                        "position": "top"
					                    }
					                }
					            },
					            "data": [
					                {
					                    "value": 0.41,
					                    "name": "구매건수",
					                    "itemStyle": {
					                        "normal": {
					                            "label": {
					                                "show": true,
					                                "position": "top",
					                                "formatter": "{c} %"
					                            }
					                        }
					                    }
					                }, {
					                    "value": 1.35,
					                    "name": "구매건수",
					                    "itemStyle": {
					                        "normal": {
					                            "label": {
					                                "show": true,
					                                "position": "top",
					                                "formatter": "{c} %"
					                            }
					                        }
					                    }
					                }, {
					                    "value": 5.99,
					                    "name": "구매건수",
					                    "itemStyle": {
					                        "normal": {
					                            "label": {
					                                "show": true,
					                                "position": "top",
					                                "formatter": "{c} %"
					                            }
					                        }
					                    }
					                }, {
					                    "value": 8.95,
					                    "name": "구매건수",
					                    "itemStyle": {
					                        "normal": {
					                            "label": {
					                                "show": true,
					                                "position": "top",
					                                "formatter": "{c} %"
					                            }
					                        }
					                    }
					                }
					            ],
					            "markPoint": {
					                "show": false,
					                "data": []
					            },
					            "markLine": {
					                "itemStyle": {
					                    "normal": {
					                        "lineStyle": {
					                            "type": "dashed"
					                        }
					                    }
					                },
					                "data": [
					                    [
					                        {
					                            "type": "min"
					                        }, {
					                            "type": "max"
					                        }
					                    ]
					                ]
					            }
					        }, {
					            "name": "구매금액",
					            "type": "bar",
					            "barGap": "3%",
					            "itemStyle": {
					                "normal": {
					                    "label": {
					                        "show": true,
					                        "position": "top"
					                    }
					                }
					            },
					            "data": [
					                {
					                    "value": 0.26,
					                    "name": "구매금액",
					                    "itemStyle": {
					                        "normal": {
					                            "label": {
					                                "show": true,
					                                "position": "top",
					                                "formatter": "{c} %"
					                            }
					                        }
					                    }
					                }, {
					                    "value": 0.85,
					                    "name": "구매금액",
					                    "itemStyle": {
					                        "normal": {
					                            "label": {
					                                "show": true,
					                                "position": "top",
					                                "formatter": "{c} %"
					                            }
					                        }
					                    }
					                }, {
					                    "value": 4.3,
					                    "name": "구매금액",
					                    "itemStyle": {
					                        "normal": {
					                            "label": {
					                                "show": true,
					                                "position": "top",
					                                "formatter": "{c} %"
					                            }
					                        }
					                    }
					                }, {
					                    "value": 7.08,
					                    "name": "구매금액",
					                    "itemStyle": {
					                        "normal": {
					                            "label": {
					                                "show": true,
					                                "position": "top",
					                                "formatter": "{c} %"
					                            }
					                        }
					                    }
					                }
					            ],
					            "markPoint": {
					                "show": false,
					                "data": []
					            },
					            "markLine": {
					                "itemStyle": {
					                    "normal": {
					                        "lineStyle": {
					                            "type": "dashed"
					                        }
					                    }
					                },
					                "data": [
					                    [
					                        {
					                            "type": "min"
					                        }, {
					                            "type": "max"
					                        }
					                    ]
					                ]
					            }
					        }
					    ]
					};
             myChart.setOption(option);
		 },
		 
		 drawChart2 : function(myChart){
			var option = {
				    "timeline": {
				        "show": true,
				        "autoPlay": true,
				        "playInterval": 4000,
				        "type": "number",
				        "data": [
				            "Syrup pay 이용 전", "Syrup pay 이용 후"
				        ],
				        "height": 30
				    },
				    "options": [
				        {
				            "backgroundColor": "#fff",
				            "title": {
				                "text": "Syrup Pay 고객의 11번가 구매등급 Before / After",
				                "textStyle": {
				                    "fontSize": 16,
				                    "color": "gray"
				                },
				                "subtext": "",
				                "subtextStyle": {
				                    "fontSize": 14
				                }
				            },
				            "grid": {
				                "borderWidth": 1,
				                "x2": 30
				            },
				            "tooltip": {
				                "trigger": "item",
				                "textStyle": {
				                    "align": "left"
				                },
				                "axisPointer": {
				                    "type": "shadow"
				                }
				            },
				            "legend": {
				                "show": true,
				                "x": "right",
				                "data": [
				                    "전체", "Syrup Pay 구매고객"
				                ]
				            },
				            "xAxis": [
				                {
				                    "show": true,
				                    "type": "category",
				                    "axisLine": {
				                        "lineStyle": {
				                            "width": 1
				                        }
				                    },
				                    "data": [
				                        "VVIP", "VIP", "TOP", "BEST", "NEW"
				                    ]
				                }
				            ],
				            "yAxis": [
				                {
				                    "show": true,
				                    "type": "value",
				                    "axisLine": {
				                        "lineStyle": {
				                            "width": 1
				                        }
				                    },
				                    "axisLabel": {}
				                }
				            ],
				            "series": [
				                {
				                    "name": "전체",
				                    "type": "bar",
				                    "barGap": "3%",
				                    "itemStyle": {
				                        "normal": {
				                            "color": "rgba(252,206,16,1)",
				                            "label": {
				                                "show": true,
				                                "position": "top"
				                            }
				                        }
				                    },
				                    "data": [
				                        {
				                            "value": 3.94,
				                            "name": "Syrup pay 이용 전",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }, {
				                            "value": 10.9,
				                            "name": "Syrup pay 이용 전",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }, {
				                            "value": 32.2,
				                            "name": "Syrup pay 이용 전",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }, {
				                            "value": 52.95,
				                            "name": "Syrup pay 이용 전",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }, {
				                            "value": 0.01,
				                            "name": "Syrup pay 이용 전",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }
				                    ],
				                    "markPoint": {
				                        "show": false,
				                        "data": []
				                    }
				                }, {
				                    "name": "Syrup Pay 구매고객",
				                    "type": "bar",
				                    "barGap": "3%",
				                    "itemStyle": {
				                        "normal": {
				                            "color": "#FF8383",
				                            "label": {
				                                "show": true,
				                                "position": "top"
				                            }
				                        }
				                    },
				                    "data": [
				                        {
				                            "value": 7.81,
				                            "name": "Syrup pay 이용 전",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }, {
				                            "value": 17.75,
				                            "name": "Syrup pay 이용 전",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }, {
				                            "value": 40.62,
				                            "name": "Syrup pay 이용 전",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }, {
				                            "value": 33.81,
				                            "name": "Syrup pay 이용 전",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }, {
				                            "value": 0,
				                            "name": "Syrup pay 이용 전",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }
				                    ],
				                    "markPoint": {
				                        "show": false,
				                        "data": [
				                            {
				                                "name": "markPoint0",
				                                "symbolSize": 0,
				                                "itemStyle": {
				                                    "normal": {
				                                        "label": {
				                                            "show": false
				                                        }
				                                    }
				                                }
				                            }, {
				                                "name": "markPoint1",
				                                "symbolSize": 0,
				                                "itemStyle": {
				                                    "normal": {
				                                        "label": {
				                                            "show": false
				                                        }
				                                    }
				                                }
				                            }, {
				                                "name": "markPoint2",
				                                "symbolSize": 0,
				                                "itemStyle": {
				                                    "normal": {
				                                        "label": {
				                                            "show": false
				                                        }
				                                    }
				                                }
				                            }
				                        ]
				                    }
				                }
				            ]
				        }, {
				            "backgroundColor": "#fff",
				            "title": {
				                "text": "Syrup Pay 고객의 11번가 구매등급 Before / After",
				                "textStyle": {
				                    "fontSize": 16,
				                    "color": "gray"
				                },
				                "subtext": "",
				                "subtextStyle": {
				                    "fontSize": 14
				                }
				            },
				            "grid": {
				                "borderWidth": 1,
				                "x2": 30
				            },
				            "tooltip": {
				                "trigger": "item",
				                "textStyle": {
				                    "align": "left"
				                },
				                "axisPointer": {
				                    "type": "shadow"
				                }
				            },
				            "legend": {
				                "show": true,
				                "x": "right",
				                "data": [
				                    "전체", "Syrup Pay 구매고객"
				                ]
				            },
				            "xAxis": [
				                {
				                    "show": true,
				                    "type": "category",
				                    "axisLine": {
				                        "lineStyle": {
				                            "width": 1
				                        }
				                    },
				                    "data": [
				                        "VVIP", "VIP", "TOP", "BEST", "NEW"
				                    ]
				                }
				            ],
				            "yAxis": [
				                {
				                    "show": true,
				                    "type": "value",
				                    "axisLine": {
				                        "lineStyle": {
				                            "width": 1
				                        }
				                    },
				                    "axisLabel": {}
				                }
				            ],
				            "series": [
				                {
				                    "name": "전체",
				                    "type": "bar",
				                    "barGap": "3%",
				                    "itemStyle": {
				                        "normal": {
				                            "color": "rgba(252,206,16,1)",
				                            "label": {
				                                "show": true,
				                                "position": "top"
				                            }
				                        }
				                    },
				                    "data": [
				                        {
				                            "value": 4.72,
				                            "name": "Syrup pay 이용 후",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }, {
				                            "value": 11.96,
				                            "name": "Syrup pay 이용 후",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }, {
				                            "value": 33.7,
				                            "name": "Syrup pay 이용 후",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }, {
				                            "value": 49.61,
				                            "name": "Syrup pay 이용 후",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }, {
				                            "value": 0.01,
				                            "name": "Syrup pay 이용 후",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }
				                    ],
				                    "markPoint": {
				                        "show": false,
				                        "data": []
				                    }
				                }, {
				                    "name": "Syrup Pay 구매고객",
				                    "type": "bar",
				                    "barGap": "3%",
				                    "itemStyle": {
				                        "normal": {
				                            "color": "#FF8383",
				                            "label": {
				                                "show": true,
				                                "position": "top"
				                            }
				                        }
				                    },
				                    "data": [
				                        {
				                            "value": 9.68,
				                            "name": "Syrup pay 이용 후",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }, {
				                            "value": 20.81,
				                            "name": "Syrup pay 이용 후",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }, {
				                            "value": 42.97,
				                            "name": "Syrup pay 이용 후",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }, {
				                            "value": 26.54,
				                            "name": "Syrup pay 이용 후",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }, {
				                            "value": 0,
				                            "name": "Syrup pay 이용 후",
				                            "itemStyle": {
				                                "normal": {
				                                    "label": {
				                                        "show": true,
				                                        "position": "inside",
				                                        "formatter": "{c} %",
				                                        "textStyle": {
				                                            "color": "#fff",
				                                            "fontSize": 11
				                                        }
				                                    }
				                                }
				                            }
				                        }
				                    ],
				                    "markPoint": {
				                        "show": false,
				                        "data": [
				                            {
				                                "name": "markPoint0",
				                                "symbolSize": 20,
				                                "itemStyle": {
				                                    "normal": {
				                                        "color": "#CC3D3D",
				                                        "label": {
				                                            "show": true,
				                                            "position": "inside",
				                                            "textStyle": {
				                                                "color": "#fff",
				                                                "fontSize": 11
				                                            }
				                                        }
				                                    }
				                                },
				                                "xAxis": "VVIP",
				                                "yAxis": 9.68
				                            }, {
				                                "name": "markPoint1",
				                                "symbolSize": 20,
				                                "itemStyle": {
				                                    "normal": {
				                                        "color": "#CC3D3D",
				                                        "label": {
				                                            "show": true,
				                                            "position": "inside",
				                                            "textStyle": {
				                                                "color": "#fff",
				                                                "fontSize": 11
				                                            }
				                                        }
				                                    }
				                                },
				                                "xAxis": "VIP",
				                                "yAxis": 20.81
				                            }, {
				                                "name": "markPoint2",
				                                "symbolSize": 20,
				                                "itemStyle": {
				                                    "normal": {
				                                        "color": "#CC3D3D",
				                                        "label": {
				                                            "show": true,
				                                            "position": "inside",
				                                            "textStyle": {
				                                                "color": "#fff",
				                                                "fontSize": 11
				                                            }
				                                        }
				                                    }
				                                },
				                                "xAxis": "TOP",
				                                "yAxis": 42.97
				                            }
				                        ]
				                    }
				                }
				            ]
				        }
				    ]
				};
                 
             myChart.setOption(option);
		 },
		 
		 
		 
		 drawChart1 : function(myChart){

		        var datajson = [
		            {   
		                'gender' : '남성',
		                'age' : '20세이하',
		                'population' : '5866657',
		                'syrupMem' : '220682',
		                'penRate' : '3.8',
		                '3monAct' : '80153',
		                '3monActRate' : '36.3',
		            },{   
		                'gender' : '남성',
		                'age' : '20대',
		                'population' : '3428176',
		                'syrupMem' : '1147757',
		                'penRate' : '33.5',
		                '3monAct' : '457095',
		                '3monActRate' : '39.8',
		            },{   
		                'gender' : '남성',
		                'age' : '30대',
		                'population' : '3926630',
		                'syrupMem' : '1591230',
		                'penRate' : '40.5',
		                '3monAct' : '764015',
		                '3monActRate' : '48.0',
		            },{   
		                'gender' : '남성',
		                'age' : '40대',
		                'population' : '4116072',
		                'syrupMem' : '981953',
		                'penRate' : '23.9',
		                '3monAct' : '463877',
		                '3monActRate' : '47.2',
		            },{   
		                'gender' : '남성',
		                'age' : '50세이상',
		                'population' : '523721',
		                'syrupMem' : '220682',
		                'penRate' : '25.1',
		                '3monAct' : '185658',
		                '3monActRate' : '35.4',
		            },
		            {   
		                'gender' : '여성',
		                'age' : '20세이하',
		                'population' : '5358730',
		                'syrupMem' : '321290',
		                'penRate' : '6.0',
		                '3monAct' : '149567',
		                '3monActRate' : '46.6',
		            },{   
		                'gender' : '여성',
		                'age' : '20대',
		                'population' : '3166193',
		                'syrupMem' : '1920332',
		                'penRate' : '60.7',
		                '3monAct' : '1034215',
		                '3monActRate' : '53.9',
		            },{   
		                'gender' : '여성',
		                'age' : '30대',
		                'population' : '3867865',
		                'syrupMem' : '1797931',
		                'penRate' : '46.5',
		                '3monAct' : '1052350',
		                '3monActRate' : '58.5',
		            },{   
		                'gender' : '여성',
		                'age' : '40대',
		                'population' : '4088709',
		                'syrupMem' : '1027162',
		                'penRate' : '25.1',
		                '3monAct' : '563464',
		                '3monActRate' : '54.9',
		            },{   
		                'gender' : '여성',
		                'age' : '50세이상',
		                'population' : '7940241',
		                'syrupMem' : '635120',
		                'penRate' : '8.0',
		                '3monAct' : '270660',
		                '3monActRate' : '42.6',
		            }
		        ];


		       var option = {
		            title : {
		                text: 'Syrup 여성 Penetration Rate',
		            },
		            tooltip : {
		                trigger: 'axis',
		                axisPointer:{
		                    show: true,
		                    type : 'shadow',
		                },
		            },
		            legend: {
		                y : 50,
		                data:['여성 Penetration']
		            },
		            grid: {
		                y : 100, y2:20
		            },
		            xAxis : [
		                {
		                    type : 'value',
		                }
		            ],
		            yAxis : [
		                {
		                    type : 'category',
		                    data : ['20세 이하','20대', '30대', '40대', '50세 이상']
		                }
		            ],
		            series : [
		                {
		                    name:'여성 Penetration',
		                    type:'bar',
		                    data:[datajson[5].penRate, datajson[6].penRate, datajson[7].penRate,
		                          datajson[8].penRate, datajson[9].penRate],
		                    itemStyle: {
		                      normal: {
		                        color:'rgba(252,206,16,1)', 
		                        label:{
		                          position : 'inside',
		                          show:true,
		                          formatter:function(p){ 
		                            return p.value  + "%";
		                          },
		                          textStyle:{
		                            color:'rgba(76,76,76,0.8)',
		                            fontSize : 14,
		                            fontWeight : 'bold',
		                          }
		                        }
		                      }
		                    },
		                },
		            ]
		        };
		       
               myChart.setOption(option);
		                    
		 },
		 
		 drawChart3 : function(myChart){
			 var oridata = [2659114, 722712, 664607, 493728];
		        var outdata = [3786245, 761741];

		        function cvtformat_bar(p){ 
		            return p.seriesName;
		        }


		        var label_bar_right_sv = {
		            normal : {
		                color : "#FF8383",
		                label : {
		                    show : true,
		                    position : 'inside',
		                    formatter : cvtformat_bar,
		                    textStyle: {
		                        fontSize : 18,
		                        fontWeight : 'bold'
		                    }
		                }
		            }
		        };
		        var label_bar_right_fl = {
		            normal : {
		                color : "#8C8C8C",
		                label : {
		                    show : true,
		                    position : 'inside',
		                    formatter : cvtformat_bar,
		                    textStyle: {
		                        fontSize : 18,
		                        fontWeight : 'bold'
		                    }
		                }
		            }
		        };

		        var label_bar_left = {
		            normal : {
		                label : {
		                    show : true,
		                    position : 'left',
		                    formatter : cvtformat_bar,
		                    textStyle: {
		                        fontSize : 18,
		                        fontWeight : 'bold'
		                    }
		                }
		            }
		        };
		        
		        var markPointX = $(document).width()/1366;
		        var option = {
		            title : {
		                x : 20,
		                text: 'Syrup5.0 방문 고객 Migration',
		            },
		            tooltip : {
		               trigger: 'item',
		               formatter:function(p){ 
		                    return oridata[p.seriesIndex] + "명 <br/>" +
		                           "(" + p[2] + "%)";
		                }
		            },
		            grid : {
		                borderColor : '#fff',
		                x : 100, y:80, y2:30
		            },
		            xAxis : [
		                {   
		                    type : 'category',
		                    axisLine: {show:false},
		                    axisTick: {show:false},
		                    splitLine: {show:false},
		                    data : ['2015.07', '2015.08']
		                },
		               
		            ],
		            yAxis : [
		                {
		                    max : 100,
		                    show : false,
		                    type : 'value',
		                },
		            ],
		            series : [
		                {
		                    name:'가입 2년이상 경과',
		                    type:'bar',
		                    stack: 'ST1',
		                    barWidth : 105,
		                    data:[
		                        {value: 58.5, itemStyle : label_bar_left},
		                    ],
		                  markLine : {
		                        symbolSize:0,
		                        itemStyle:{
		                        normal:{
		                            lineStyle:{
		                                type: 'solid'
		                              , width : 2
		                              , color : 'rgba(170,198,255,1)'
		                            }
		                         }
		                    },
		                    data : [
		                        [{xAxis:'2015.07', yAxis:'100' }, {xAxis:'2015.08', yAxis:'82.3'}]
		                    ]
		            }
		                   
		                },
		                {
		                    name:'2년 이내 가입 고객',
		                    type:'bar',
		                    stack: 'ST1',
		                    barWidth : 105,
		                    data:[
		                        {value: 15.9, itemStyle : label_bar_left}
		                    ]
		                },
		                {
		                    name:'1년 이내 가입 고객',
		                    type:'bar',
		                    stack: 'ST1',
		                    barWidth : 105,
		                    data:[
		                        {value: 14.6, itemStyle : label_bar_left}
		                    ]
		                },
		                {
		                    name:'3개월 이내 가입 고객',
		                    type:'bar',
		                    stack: 'ST1',
		                    barWidth : 105,
		                    data:[
		                        {value: 10.9, itemStyle : label_bar_left}
		                    ]
		                },
		               {
		                    name:'유지',
		                    type:'bar',
		                    stack : 'ST1',
		                    barWidth : 105,
		                    data:[
		                        {value: 0},
		                      {value: 82.3, itemStyle : label_bar_right_sv}
		                    ]
		                },
		                {
		                    name:'이탈',
		                    type:'bar',
		                    stack : 'ST1',
		                    barWidth : 105,
		                    data:[
		                        {value: 0},
		                        {value: 17.8, itemStyle : label_bar_right_fl}
		                    ]
		                }
		            ]
		        }

			 
             myChart.setOption(option);
		 },
		 
		 
		 drawChart4 : function(myChart){
			 var option = {
			            tooltip : {
			                trigger: 'axis',
			                axisPointer:{
			                  show: true,
			                  type : 'shadow'
			                },
			            },
			            gird:{
			                height: 800,
			                borderWidth : 0,
			                borderColor : '#fff',
			                y2 : 0
			                
			            },
			            xAxis : [
			                {
			                    max : 100,
			                    type : 'value',
			                    show:false,
			                    axisLine: {show:false},
			                    axisTick: {show:false},
			                    splitArea: {show:false},
			                    splitLine: {show:false},
			                    axisLabel: {show:false},
			                }
			            ],
			            legend: {
			                y : 20,
			                x : 'center',
			                data:['유지','이탈']
			             },
			            yAxis : [
			                {
			                    type : 'category',
			                    show:false,
			                    axisLine: {show:false},
			                    axisTick: {show:false},
			                    splitArea: {show:false},
			                    splitLine: {show:false},
			                    axisLabel: {show:false},
			                    data : ['Light(1~2 days)','Medium(3~9 days)','Heavy(10~ days)']
			                }
			            ],
			            series : [
			                {
			                    name:'유지',
			                    type:'bar',
			                    barWidth : 55,
			                    stack: '总量',
			                    itemStyle : { normal: { color:'#FF8383', label : {show: true, 
			                        formatter : function(v){return v.value+"%";}, position: 'inside'}}},
			                    data : [99.3 , 93.9, 57.2]
			                },
			                {
			                    name:'이탈',
			                    type:'bar',
			                    stack: '总量',
			                    itemStyle : { normal: { color:'#8C8C8C', label : {show: true, 
			                        formatter : function(v){return v.value+"%";}, position: 'right'}}},
			                    data : [0.7 , 6.1, 42.8]
			                },
			            ]
			        };
             myChart.setOption(option);
		 },
		 
		 
		drawChart5 : function(myChart){
	       var option = {
	            title : {
	                text: '신규 고객 유지율',
	                subtext : '(2015.01 ~ 2015.07 평균)'
	            },
	            tooltip : {
	                trigger: 'axis',
	                axisPointer:{
	                    show: true,
	                    type : 'shadow'
	               },
	               formatter:function(p){ 
	                        return "[" + p[0][0] + "]<br/>" +
	                               p[0][1] + " : " + p[0].value + "명";
	                }
	            },
	            legend: {
	                data:['신규 고객 유지율'],
	                y : 50,
	                textStyle:{fontSize : 14}
	            },
	            grid: {
	                y : 100
	            },
	            calculable : true,
	            xAxis : [
	                {
	                    type : 'category',
	                    data : ['M','M+1','M+2','M+3','M+4','M+5','M+6']
	                }
	            ],
	            yAxis : [
	                {
	                    type : 'value',
	                    axisLabel:{formatter:function(p) { return p +' %';}}
	                }
	            ],
	            series : [
	                {
	                    name:'신규 고객 유지율',
	                    type:'line',
	                    data:[100, 48.4, 41.6, 37.6, 34.8, 32.1, 31.0],
	                   itemStyle: {
	                     normal: {
	                        lineStyle: {
	                            width : 4.5
	                       },
	                       label:{
	                         show:true,
	                         formatter:function(p){ 
	                           return p.value + '%';
	                         },
	                         textStyle:{
	                           fontSize : 18,
	                           fontWeight : 'bold',
	                           color:'rgba(76,76,76,0.9)'
	                         },
	                       }
	                     }
	                   }
	                }
	            ]
	        };
            myChart.setOption(option);
		}
 };
 
 
 var syruppay = {
	        barLineChart : function (myChart, opt){
	            // parsing data
	             var chartList = [];
	             $.each(opt.data, function(idx, _data){
	                 $.each(opt.category, function(_idx, _category){
	                     chartList.push({legend:_data.legend, category:_category, itemStyle:topPerLabel, name:_data.name, tablevalue:eval("(opt."+_data.value[0]+")[_idx]"), value: Math.round((eval("(opt."+_data.value[0]+")[_idx]")/eval("(opt."+_data.value[1]+")[_idx]"))*10000)/100});
	                 });
	             });
	             
	             // draw chart
	             function itemFormatter(param){ return param.name+"</br>"+param.seriesName+" : "+param.value+"%";  };
	             var option = insights.getMultiBarOpt(chartList, opt.title);
	             option.yAxis[0].axisLabel = perLabel;  
	             option.series[0].markLine = dashMarkLine;
	             option.series[1].markLine = dashMarkLine;
	             option.series[2].markLine = dashMarkLine;
	             option.tooltip.formatter = itemFormatter;
	             myChart.setOption(option);
	             
	             return chartList;
	        },
	        
	        
	        timeLineChart : function (myChart, opt){  // idx
	            // parsing data
	             var chartList = [];
	             $.each(opt.data, function(idx, _data){
	                 $.each(opt.category, function(_idx, _category){
	                     chartList.push({legend:_data.legend, category:_category, itemStyle:insidePerLabel, name:_data.name, tablevalue:eval("(opt."+_data.value+")[_idx]"), value: Math.round(Math.round(eval("(opt."+_data.value+")[_idx]")/eval("(opt."+_data.value+").sum()")*10000)/10000*100*100)/100});
	                 });
	             });
	             
	            // draw chart
	            var option = { timeline : {show:true, autoPlay : true, playInterval : 4000, type : 'number' , data : [] }, options : [] };
	            option.timeline.data = opt.timeline;
	            option.timeline.height = 30;
	            var markFormatters = opt.markFormatters;
	            $.each(opt.timeline, function(idx, _timeline){
	                var _option = insights.getMultiBarOpt($.grep(chartList, function(_data){    return _data.name == _timeline;    }), opt.title, null, null, opt.category);
	                _option.yAxis[0].axisLabel = perLabel;
	                _option.tooltip.formatter = function(param){ return param.data.name+" ("+param.name+")</br>"+param.seriesName+" : "+param.value+"%";  };  
	                /*_option.title.subtextStyle = {fontSize: 14, color:'#4374D9', fontWeight:'bold', align:'center'};
	                _option.title.itemGap = 10;*/
	                
	                // Mark Point
	                var markPoint = [], mIdx=-1;
	                $.each(markFormatters[idx], function(key, value){
	                    var yAxis = _option.series[1].data[++mIdx].value;
	                    if(value == '') markPoint.push({name:'markPoint'+mIdx, symbolSize : 0, itemStyle : {normal:{label:{show:false }}}});
	                    else    markPoint.push({name:'markPoint'+mIdx, symbolSize : 20, itemStyle : {normal:{color:'#CC3D3D', label:{show:true, position:'inside', textStyle:{color:'#fff', fontSize:11}, formatter:function(param){ return value; } }}}, xAxis:key, yAxis:yAxis}); 
	               });
	                _option.series[1].markPoint.data = markPoint;
	                
	                option.options.push(_option);
	            });
	            myChart.setOption(option);
	            return chartList;
	         },
	         
	         
	         importChart : function (myChart, opt){
	             $.ajax({
	                 type: "GET",
	                 url: '/resources/data/'+opt.importFile,
	                 dataType: "text",
	                 success: function(data) {  dataProcess(data);  },
	                 error: function(err){alert("err "+err); console.log(err)}
	             });
	             

	            var tooltipMosu = [];
	            function dataProcess(data){
	                var option = getDefaultOpt();
	                data_ = data.split("\n");
	                var category = [];
	                data_.forEach(function(entry) {
	                    var entry_ = entry.split(",");
	                    category.push(eval(opt.category));
	                    tooltipMosu.push(eval(opt.tooltipMosu));
	                    $.each(opt.data, function(_idx, _data){
	                        option.series[_idx].data.push(eval(_data.value));
	                    });
	                });
	                option.xAxis[0].data = category;
	                myChart.setOption(option);   
	            }
	           
	            function getDefaultOpt(){
	                var option = insights.getDefBarOpt(opt.title);
	                option.tooltip.trigger = 'axis';
	                option.tooltip.formatter = function(param, axis){   var idx = axis.split(":")[1]*1;
	                                                                    return param[0][1] + "<br/>"
	                                                                        + param[0][0] + " : " + formatCurrency(Math.round(param[0][2] /100 * tooltipMosu[idx])) + "명 (" + param[2][2] + " %)<br/>"
	                                                                        + param[1][0] + " : " + formatCurrency(Math.round(param[1][2] /100 * tooltipMosu[idx])) + "명 (" + param[3][2] + " %<br/>";  };
	                option.legend.data = opt.legend;
	                option.legend.show = true;
	                option.yAxis[0].axisLabel = perLabel;  
	                option.yAxis[0].max = 15;
	                
	                option.grid.y2 = 105;
	                option.dataZoom = {
	                     show : true,
	                     dataBackgroundColor : 'rgba(144,197,237,1)',
	                     height:60,
	                     zoomLock : true,
	                     realtime : true,
	                     start : 70,    //0
	                     end : 90   // 20
	                 };
	                
	                 var series = [];
	                 $.each(opt.data, function(idx, _data){
	                     if(_data.type == 'line'){
	                        series.push({name:_data.name, data:[], type:_data.type, symbolSize : 0, itemStyle : {normal: {color : 'rgba(0,0,0,0)'}}});
	                     }else if(_data.type == 'bar'){
	                        series.push({name:_data.name, data:[], type:_data.type, barGap:'2%'});
	                     }
	                 });
	                 option.series = series;
	                 return option;
	            }
	                    
	            return null;
	         }
	};
 
 </script>